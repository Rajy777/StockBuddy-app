[{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(auth)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(auth)\\sign-in\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'signUpWithEmail' is defined but never used.","line":7,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'signInEmail' is defined but never used.","line":9,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@/components/ui/button';\nimport InputField from '@/components/forms/InputField';\nimport FooterLink from '@/components/forms/FooterLink';\nimport {signInWithEmail, signUpWithEmail} from \"@/lib/actions/auth.actions\";\nimport {toast} from \"sonner\";\nimport {signInEmail} from \"better-auth/api\";\nimport {useRouter} from \"next/navigation\";\n\nconst SignIn = () => {\n    const router = useRouter()\n    const {\n        register,\n        handleSubmit,\n        formState: { errors, isSubmitting },\n    } = useForm<SignInFormData>({\n        defaultValues: {\n            email: '',\n            password: '',\n        },\n        mode: 'onBlur',\n    });\n\n    const onSubmit = async (data: SignInFormData) => {\n        try {\n            const result = await signInWithEmail(data);\n            if(result.success) router.push('/');\n        } catch (e) {\n            console.error(e);\n            toast.error('Sign in failed', {\n                description: e instanceof Error ? e.message : 'Failed to sign in.'\n            })\n        }\n    }\n\n    return (\n        <>\n            <h1 className=\"form-title\">Welcome back</h1>\n\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\n                <InputField\n                    name=\"email\"\n                    label=\"Email\"\n                    placeholder=\"contact@jsmastery.com\"\n                    register={register}\n                    error={errors.email}\n                    validation={{ required: 'Email is required', pattern: /^\\w+@\\w+\\.\\w+$/ }}\n                />\n\n                <InputField\n                    name=\"password\"\n                    label=\"Password\"\n                    placeholder=\"Enter your password\"\n                    type=\"password\"\n                    register={register}\n                    error={errors.password}\n                    validation={{ required: 'Password is required', minLength: 8 }}\n                />\n\n                <Button type=\"submit\" disabled={isSubmitting} className=\"yellow-btn w-full mt-5\">\n                    {isSubmitting ? 'Signing In' : 'Sign In'}\n                </Button>\n\n                <FooterLink text=\"Don't have an account?\" linkText=\"Create an account\" href=\"/sign-up\" />\n            </form>\n        </>\n    );\n};\nexport default SignIn;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(auth)\\sign-up\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(root)\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'auth' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'headers' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'redirect' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Header from \"@/components/Header\";\nimport { auth } from \"@/lib/better-auth/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\n\nconst Layout = async ({ children }: { children: React.ReactNode }) => {\n    // const session = await auth.api.getSession({ headers: await headers() });\n    // if(!session?.user) redirect('/sign-in');\n\n    const user = {\n        id: \"mock-user-id\",\n        name: \"Test User\",\n        email: \"test@example.com\",\n    }\n\n    return (\n        <main className=\"min-h-screen text-gray-400\">\n            <Header user={user} />\n\n            <div className=\"container py-10\">\n                {children}\n            </div>\n        </main>\n    )\n}\nexport default Layout","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(root)\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sendDailyNewsSummary' is defined but never used.","line":8,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import TradingViewWidget from \"@/components/TradingViewWidget\";\nimport {\n    HEATMAP_WIDGET_CONFIG,\n    MARKET_DATA_WIDGET_CONFIG,\n    MARKET_OVERVIEW_WIDGET_CONFIG,\n    TOP_STORIES_WIDGET_CONFIG\n} from \"@/lib/constants\";\nimport {sendDailyNewsSummary} from \"@/lib/inngest/functions\";\n\nconst Home = () => {\n    const scriptUrl = `https://s3.tradingview.com/external-embedding/embed-widget-`;\n\n    return (\n        <div className=\"flex min-h-screen home-wrapper\">\n            <section className=\"grid w-full gap-8 home-section\">\n                <div className=\"md:col-span-1 xl:col-span-1\">\n                    <TradingViewWidget\n                        title=\"Market Overview\"\n                        scriptUrl={`${scriptUrl}market-overview.js`}\n                        config={MARKET_OVERVIEW_WIDGET_CONFIG}\n                        className=\"custom-chart\"\n                        height={600}\n                    />\n                </div>\n                <div className=\"md-col-span xl:col-span-2\">\n                    <TradingViewWidget\n                        title=\"Stock Heatmap\"\n                        scriptUrl={`${scriptUrl}stock-heatmap.js`}\n                        config={HEATMAP_WIDGET_CONFIG}\n                        height={600}\n                    />\n                </div>\n            </section>\n            <section className=\"grid w-full gap-8 home-section\">\n                <div className=\"h-full md:col-span-1 xl:col-span-1\">\n                    <TradingViewWidget\n                        scriptUrl={`${scriptUrl}timeline.js`}\n                        config={TOP_STORIES_WIDGET_CONFIG}\n                        height={600}\n                    />\n                </div>\n                <div className=\"h-full md:col-span-1 xl:col-span-2\">\n                    <TradingViewWidget\n                        scriptUrl={`${scriptUrl}market-quotes.js`}\n                        config={MARKET_DATA_WIDGET_CONFIG}\n                        height={600}\n                    />\n                </div>\n            </section>\n        </div>\n    )\n}\n\nexport default Home;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\(root)\\stocks\\[symbol]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\api\\auth\\[...better-auth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\api\\inngest\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\NavItems.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\SearchCommand.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'debouncedSearch'. Either include it or remove the dependency array.","line":49,"column":8,"nodeType":"ArrayExpression","endLine":49,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [debouncedSearch, searchTerm]","fix":{"range":[1706,1718],"text":"[debouncedSearch, searchTerm]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":86,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":58}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { CommandDialog, CommandEmpty, CommandInput, CommandList } from \"@/components/ui/command\"\nimport {Button} from \"@/components/ui/button\";\nimport {Loader2,  TrendingUp} from \"lucide-react\";\nimport Link from \"next/link\";\nimport {searchStocks} from \"@/lib/actions/finnhub.actions\";\nimport {useDebounce} from \"@/hooks/useDebounce\";\n\nexport default function SearchCommand({ renderAs = 'button', label = 'Add stock', initialStocks }: SearchCommandProps) {\n    const [open, setOpen] = useState(false)\n    const [searchTerm, setSearchTerm] = useState(\"\")\n    const [loading, setLoading] = useState(false)\n    const [stocks, setStocks] = useState<StockWithWatchlistStatus[]>(initialStocks);\n\n    const isSearchMode = !!searchTerm.trim();\n    const displayStocks = isSearchMode ? stocks : stocks?.slice(0, 10);\n\n    useEffect(() => {\n        const onKeyDown = (e: KeyboardEvent) => {\n            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === \"k\") {\n                e.preventDefault()\n                setOpen(v => !v)\n            }\n        }\n        window.addEventListener(\"keydown\", onKeyDown)\n        return () => window.removeEventListener(\"keydown\", onKeyDown)\n    }, [])\n\n    const handleSearch = async () => {\n        if(!isSearchMode) return setStocks(initialStocks);\n\n        setLoading(true)\n        try {\n            const results = await searchStocks(searchTerm.trim());\n            setStocks(results);\n        } catch {\n            setStocks([])\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const debouncedSearch = useDebounce(handleSearch, 300);\n\n    useEffect(() => {\n        debouncedSearch();\n    }, [searchTerm]);\n\n    const handleSelectStock = () => {\n        setOpen(false);\n        setSearchTerm(\"\");\n        setStocks(initialStocks);\n    }\n\n    return (\n        <>\n            {renderAs === 'text' ? (\n                <span onClick={() => setOpen(true)} className=\"search-text\">\n            {label}\n          </span>\n            ): (\n                <Button onClick={() => setOpen(true)} className=\"search-btn\">\n                    {label}\n                </Button>\n            )}\n            <CommandDialog open={open} onOpenChange={setOpen} className=\"search-dialog\">\n                <div className=\"search-field\">\n                    <CommandInput value={searchTerm} onValueChange={setSearchTerm} placeholder=\"Search stocks...\" className=\"search-input\" />\n                    {loading && <Loader2 className=\"search-loader\" />}\n                </div>\n                <CommandList className=\"search-list\">\n                    {loading ? (\n                        <CommandEmpty className=\"search-list-empty\">Loading stocks...</CommandEmpty>\n                    ) : displayStocks?.length === 0 ? (\n                        <div className=\"search-list-indicator\">\n                            {isSearchMode ? 'No results found' : 'No stocks available'}\n                        </div>\n                    ) : (\n                        <ul>\n                            <div className=\"search-count\">\n                                {isSearchMode ? 'Search results' : 'Popular stocks'}\n                                {` `}({displayStocks?.length || 0})\n                            </div>\n                            {displayStocks?.map((stock, i) => (\n                                <li key={stock.symbol} className=\"search-item\">\n                                    <Link\n                                        href={`/stocks/${stock.symbol}`}\n                                        onClick={handleSelectStock}\n                                        className=\"search-item-link\"\n                                    >\n                                        <TrendingUp className=\"h-4 w-4 text-gray-500\" />\n                                        <div  className=\"flex-1\">\n                                            <div className=\"search-item-name\">\n                                                {stock.name}\n                                            </div>\n                                            <div className=\"text-sm text-gray-500\">\n                                                {stock.symbol} | {stock.exchange } | {stock.type}\n                                            </div>\n                                        </div>\n                                        {/*<Star />*/}\n                                    </Link>\n                                </li>\n                            ))}\n                        </ul>\n                    )\n                    }\n                </CommandList>\n            </CommandDialog>\n        </>\n    )\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\TradingViewWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\UserDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\WatchlistButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'company' is defined but never used.","line":10,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, { useMemo, useState } from \"react\";\n\n// Minimal WatchlistButton implementation to satisfy page requirements.\n// This component focuses on UI contract only. It toggles local state and\n// calls onWatchlistChange if provided. Styling hooks match globals.css.\n\nconst WatchlistButton = ({\n                             symbol,\n                             company,\n                             isInWatchlist,\n                             showTrashIcon = false,\n                             type = \"button\",\n                             onWatchlistChange,\n                         }: WatchlistButtonProps) => {\n    const [added, setAdded] = useState<boolean>(!!isInWatchlist);\n\n    const label = useMemo(() => {\n        if (type === \"icon\") return added ? \"\" : \"\";\n        return added ? \"Remove from Watchlist\" : \"Add to Watchlist\";\n    }, [added, type]);\n\n    const handleClick = () => {\n        const next = !added;\n        setAdded(next);\n        onWatchlistChange?.(symbol, next);\n    };\n\n    if (type === \"icon\") {\n        return (\n            <button\n                title={added ? `Remove ${symbol} from watchlist` : `Add ${symbol} to watchlist`}\n                aria-label={added ? `Remove ${symbol} from watchlist` : `Add ${symbol} to watchlist`}\n                className={`watchlist-icon-btn ${added ? \"watchlist-icon-added\" : \"\"}`}\n                onClick={handleClick}\n            >\n                <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                    fill={added ? \"#FACC15\" : \"none\"}\n                    stroke=\"#FACC15\"\n                    strokeWidth=\"1.5\"\n                    className=\"watchlist-star\"\n                >\n                    <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.385a.563.563 0 00-.182-.557L3.04 10.385a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345l2.125-5.111z\"\n                    />\n                </svg>\n            </button>\n        );\n    }\n\n    return (\n        <button className={`watchlist-btn ${added ? \"watchlist-remove\" : \"\"}`} onClick={handleClick}>\n            {showTrashIcon && added ? (\n                <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-5 h-5 mr-2\"\n                >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 7h12M9 7V5a1 1 0 011-1h4a1 1 0 011 1v2m-7 4v6m4-6v6m4-6v6\" />\n                </svg>\n            ) : null}\n            <span>{label}</span>\n        </button>\n    );\n};\n\nexport default WatchlistButton;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\forms\\CountrySelectField.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\forms\\FooterLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\forms\\InputField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\forms\\SelectField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\database\\models\\watchlist.model.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\database\\mongoose.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\hooks\\useTradingViewWidget.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'containerRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'containerRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":23,"column":37,"nodeType":"Identifier","endLine":23,"endColumn":44}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { useEffect, useRef }     from \"react\";\n\nconst useTradingViewWidget = (scriptUrl: string, config: Record<string, unknown>, height = 600) => {\n    const containerRef = useRef<HTMLDivElement | null>(null);\n\n    useEffect(() => {\n        if (!containerRef.current) return;\n        if (containerRef.current.dataset.loaded) return;\n        containerRef.current.innerHTML = `<div class=\"tradingview-widget-container__widget\" style=\"width: 100%; height: ${height}px;\"></div>`;\n\n        const script = document.createElement(\"script\");\n        script.src = scriptUrl;\n        script.async = true;\n        script.innerHTML = JSON.stringify(config);\n\n        containerRef.current.appendChild(script);\n        containerRef.current.dataset.loaded = 'true';\n\n        return () => {\n            if(containerRef.current) {\n                containerRef.current.innerHTML = '';\n                delete containerRef.current.dataset.loaded;\n            }\n        }\n    }, [scriptUrl, config, height])\n\n    return containerRef;\n}\nexport default useTradingViewWidget","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\actions\\auth.actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\actions\\finnhub.actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\actions\\user.actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\actions\\watchlist.actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\better-auth\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\db.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Pool } from 'pg';\r\n\r\nlet pool: Pool | null = null;\r\n\r\nexport const getDb = () => {\r\n    if (pool) return pool;\r\n\r\n    if (!process.env.DATABASE_URL) {\r\n        throw new Error('DATABASE_URL is not set in environment variables');\r\n    }\r\n\r\n    pool = new Pool({\r\n        connectionString: process.env.DATABASE_URL,\r\n    });\r\n\r\n    return pool;\r\n};\r\n\r\nexport const query = async (text: string, params?: any[]) => {\r\n    const db = getDb();\r\n    return db.query(text, params);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\inngest\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\inngest\\functions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":101,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":101,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {inngest} from \"@/lib/inngest/client\";\nimport {NEWS_SUMMARY_EMAIL_PROMPT, PERSONALIZED_WELCOME_EMAIL_PROMPT} from \"@/lib/inngest/prompts\";\nimport {sendNewsSummaryEmail, sendWelcomeEmail} from \"@/lib/nodemailer\";\nimport {getAllUsersForNewsEmail} from \"@/lib/actions/user.actions\";\nimport { getWatchlistSymbolsByEmail } from \"@/lib/actions/watchlist.actions\";\nimport { getNews } from \"@/lib/actions/finnhub.actions\";\nimport { getFormattedTodayDate } from \"@/lib/utils\";\n\nexport const sendSignUpEmail = inngest.createFunction(\n    { id: 'sign-up-email' },\n    { event: 'app/user.created'},\n    async ({ event, step }) => {\n        const userProfile = `\n            - Country: ${event.data.country}\n            - Investment goals: ${event.data.investmentGoals}\n            - Risk tolerance: ${event.data.riskTolerance}\n            - Preferred industry: ${event.data.preferredIndustry}\n        `\n\n        const prompt = PERSONALIZED_WELCOME_EMAIL_PROMPT.replace('{{userProfile}}', userProfile)\n\n        const response = await step.ai.infer('generate-welcome-intro', {\n            model: step.ai.models.gemini({ model: 'gemini-2.5-flash-lite' }),\n            body: {\n                contents: [\n                    {\n                        role: 'user',\n                        parts: [\n                            { text: prompt }\n                        ]\n                    }]\n            }\n        })\n\n        await step.run('send-welcome-email', async () => {\n            const part = response.candidates?.[0]?.content?.parts?.[0];\n            const introText = (part && 'text' in part ? part.text : null) ||'Thanks for joining Signalist. You now have the tools to track markets and make smarter moves.'\n\n            const { data: { email, name } } = event;\n\n            return await sendWelcomeEmail({ email, name, intro: introText });\n        })\n\n        return {\n            success: true,\n            message: 'Welcome email sent successfully'\n        }\n    }\n)\n\nexport const sendDailyNewsSummary = inngest.createFunction(\n    { id: 'daily-news-summary' },\n    [ { event: 'app/send.daily.news' }, { cron: '0 12 * * *' } ],\n    async ({ step }) => {\n        // Step #1: Get all users for news delivery\n        const users = await step.run('get-all-users', getAllUsersForNewsEmail)\n\n        if(!users || users.length === 0) return { success: false, message: 'No users found for news email' };\n\n        // Step #2: For each user, get watchlist symbols -> fetch news (fallback to general)\n        const results = await step.run('fetch-user-news', async () => {\n            const perUser: Array<{ user: UserForNewsEmail; articles: MarketNewsArticle[] }> = [];\n            for (const user of users as UserForNewsEmail[]) {\n                try {\n                    const symbols = await getWatchlistSymbolsByEmail(user.email);\n                    let articles = await getNews(symbols);\n                    // Enforce max 6 articles per user\n                    articles = (articles || []).slice(0, 6);\n                    // If still empty, fallback to general\n                    if (!articles || articles.length === 0) {\n                        articles = await getNews();\n                        articles = (articles || []).slice(0, 6);\n                    }\n                    perUser.push({ user, articles });\n                } catch (e) {\n                    console.error('daily-news: error preparing user news', user.email, e);\n                    perUser.push({ user, articles: [] });\n                }\n            }\n            return perUser;\n        });\n\n        // Step #3: (placeholder) Summarize news via AI\n        const userNewsSummaries: { user: UserForNewsEmail; newsContent: string | null }[] = [];\n\n        for (const { user, articles } of results) {\n            try {\n                const prompt = NEWS_SUMMARY_EMAIL_PROMPT.replace('{{newsData}}', JSON.stringify(articles, null, 2));\n\n                const response = await step.ai.infer(`summarize-news-${user.email}`, {\n                    model: step.ai.models.gemini({ model: 'gemini-2.5-flash-lite' }),\n                    body: {\n                        contents: [{ role: 'user', parts: [{ text:prompt }]}]\n                    }\n                });\n\n                const part = response.candidates?.[0]?.content?.parts?.[0];\n                const newsContent = (part && 'text' in part ? part.text : null) || 'No market news.'\n\n                userNewsSummaries.push({ user, newsContent });\n            } catch (e) {\n                console.error('Failed to summarize news for : ', user.email);\n                userNewsSummaries.push({ user, newsContent: null });\n            }\n        }\n\n        // Step #4: (placeholder) Send the emails\n        await step.run('send-news-emails', async () => {\n            await Promise.all(\n                userNewsSummaries.map(async ({ user, newsContent}) => {\n                    if(!newsContent) return false;\n\n                    return await sendNewsSummaryEmail({ email: user.email, date: getFormattedTodayDate(), newsContent })\n                })\n            )\n        })\n\n        return { success: true, message: 'Daily news summary emails sent successfully' }\n    }\n)","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\inngest\\prompts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\nodemailer\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\nodemailer\\templates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getSessionCookie' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":4,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\nimport { getSessionCookie } from \"better-auth/cookies\";\r\n\r\nexport async function middleware(request: NextRequest) {\r\n    // const sessionCookie = getSessionCookie(request);\r\n    // if (!sessionCookie) {\r\n    //     return NextResponse.redirect(new URL(\"/\", request.url));\r\n    // }\r\n\r\n    return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n    matcher: [\r\n        '/((?!api|_next/static|_next/image|favicon.ico|sign-in|sign-up|assets).*)',\r\n    ],\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\middleware\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\scripts\\setup-db-simple.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'conn' is assigned a value but never used.","line":3,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":11}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { Client } = require('pg');\r\n\r\nconst conn = 'postgres://postgres.samtqyznrjviqieiaaol:Px/f*UCy6zB9qq4@db.samtqyznrjviqieiaaol.supabase.co:5432/postgres';\r\n\r\nconst sql = `\r\nCREATE TABLE IF NOT EXISTS watchlist (\r\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\r\n    user_id TEXT NOT NULL,\r\n    symbol TEXT NOT NULL,\r\n    company TEXT NOT NULL,\r\n    added_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\r\n    UNIQUE (user_id, symbol)\r\n);\r\n`;\r\n\r\nasync function setup() {\r\n    const client = new Client({\r\n        user: 'postgres.samtqyznrjviqieiaaol',\r\n        host: 'aws-0-ap-south-1.pooler.supabase.com',\r\n        database: 'postgres',\r\n        password: 'Px/f*UCy6zB9qq4',\r\n        port: 6543,\r\n    });\r\n\r\n    try {\r\n        await client.connect();\r\n        console.log('Connected to database');\r\n        await client.query(sql);\r\n        console.log('SQL Schema applied successfully');\r\n    } catch (err) {\r\n        console.error('Error applying schema:');\r\n        console.error(err.message);\r\n        console.error(err.stack);\r\n    } finally {\r\n        await client.end();\r\n    }\r\n}\r\n\r\nsetup();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\scripts\\setup-db.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":33},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { Client } = require('pg');\r\nrequire('dotenv').config();\r\n\r\nconst sql = `\r\nCREATE TABLE IF NOT EXISTS watchlist (\r\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\r\n    user_id TEXT NOT NULL,\r\n    symbol TEXT NOT NULL,\r\n    company TEXT NOT NULL,\r\n    added_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\r\n    UNIQUE (user_id, symbol)\r\n);\r\n`;\r\n\r\nasync function setup() {\r\n    if (!process.env.DATABASE_URL) {\r\n        console.error('DATABASE_URL is not set');\r\n        process.exit(1);\r\n    }\r\n\r\n    const client = new Client({\r\n        connectionString: process.env.DATABASE_URL,\r\n    });\r\n\r\n    try {\r\n        await client.connect();\r\n        console.log('Connected to database');\r\n        await client.query(sql);\r\n        console.log('SQL Schema applied successfully');\r\n    } catch (err) {\r\n        console.error('Error applying schema:', err);\r\n    } finally {\r\n        await client.end();\r\n    }\r\n}\r\n\r\nsetup();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\scripts\\setup-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\scripts\\test-db.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\scripts\\test-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS ROG\\Downloads\\StockBuddy-app-main\\StockBuddy-app-main\\types\\global.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]